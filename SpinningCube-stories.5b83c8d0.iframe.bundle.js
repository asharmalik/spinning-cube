"use strict";(self.webpackChunkspinning_cube=self.webpackChunkspinning_cube||[]).push([[65],{"./src/SpinningCube.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SpinningCube_stories});var react=__webpack_require__("./node_modules/react/index.js"),index_6662eaf2_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/index-6662eaf2.esm.js"),react_three_fiber_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),three_module=__webpack_require__("./node_modules/three/build/three.module.js"),shapes=__webpack_require__("./node_modules/@react-three/drei/core/shapes.js"),PerspectiveCamera=__webpack_require__("./node_modules/@react-three/drei/core/PerspectiveCamera.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Cube=_ref=>{let{textures,rotationSpeed}=_ref;const meshRef=(0,react.useRef)(null),{size,camera}=(0,index_6662eaf2_esm.z)();(0,index_6662eaf2_esm.A)((()=>{const scale=Math.min(size.width,size.height)/150*4;if(meshRef.current){const cubeSize=.5*scale,cameraDistance=Math.sqrt(3)/2*cubeSize/Math.tan(Math.PI/180*45/2)*2;meshRef.current.rotation.y+=rotationSpeed,meshRef.current.rotation.x+=rotationSpeed,meshRef.current.scale.set(scale,scale,scale),camera.position.z=cameraDistance}}));const materials=textures.map((texture=>new three_module.MeshBasicMaterial({map:texture})));return(0,jsx_runtime.jsx)(shapes.xu,{ref:meshRef,args:[1,1,1],material:materials})};Cube.displayName="Cube";const SpinningCube=_ref2=>{let{size,imageUrls,rotationSpeed}=_ref2;const[loadedTextures,setLoadedTextures]=(0,react.useState)([]);return(0,react.useEffect)((()=>{const loader=new three_module.TextureLoader,loadPromises=imageUrls.map((url=>new Promise((resolve=>{loader.load(url,(texture=>{texture.encoding=three_module.sRGBEncoding,resolve(texture)}))}))));Promise.all(loadPromises).then(setLoadedTextures)}),[imageUrls]),loadedTextures.length!==imageUrls.length?null:(0,jsx_runtime.jsx)("div",{style:{width:`${size}px`,height:`${size}px`},children:(0,jsx_runtime.jsxs)(react_three_fiber_esm.Xz,{style:{width:"100%",height:"100%"},children:[(0,jsx_runtime.jsx)(PerspectiveCamera.c,{makeDefault:!0,position:[0,0,5]}),(0,jsx_runtime.jsx)("ambientLight",{intensity:.5})," ",(0,jsx_runtime.jsx)("directionalLight",{position:[2,2,2],intensity:1})," ",(0,jsx_runtime.jsx)(Cube,{textures:loadedTextures,rotationSpeed})]})})};SpinningCube.displayName="SpinningCube",SpinningCube.defaultProps={size:250,rotationSpeed:.00625};const src_SpinningCube=SpinningCube;try{SpinningCube.displayName="SpinningCube",SpinningCube.__docgenInfo={description:"",displayName:"SpinningCube",props:{imageUrls:{defaultValue:null,description:"",name:"imageUrls",required:!0,type:{name:"string[]"}},size:{defaultValue:{value:"250"},description:"",name:"size",required:!1,type:{name:"number"}},rotationSpeed:{defaultValue:{value:"0.00625"},description:"",name:"rotationSpeed",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SpinningCube.tsx#SpinningCube"]={docgenInfo:SpinningCube.__docgenInfo,name:"SpinningCube",path:"src/SpinningCube.tsx#SpinningCube"})}catch(__react_docgen_typescript_loader_error){}const SpinningCube_stories={title:"SpinningCube",component:src_SpinningCube},Template=args=>(0,jsx_runtime.jsx)(src_SpinningCube,{...args});Template.displayName="Template";const Default=Template.bind({});Default.args={imageUrls:["./cube-side.png","./cube-side.png","./cube-side.png","./cube-side.png","./cube-side.png","./cube-side.png"],rotationSpeed:.00625,size:250},Default.argTypes={rotationSpeed:{control:{type:"number",min:0,max:1,step:.001}}},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <SpinningCube {...args} />",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);